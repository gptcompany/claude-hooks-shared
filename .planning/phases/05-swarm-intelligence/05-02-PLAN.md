---
phase: 05-swarm-intelligence
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified: [~/.claude/skills/swarm/SKILL.md]
autonomous: false
---

<objective>
Create the /swarm skill command for manual swarm control and verify end-to-end swarm functionality.

Purpose: Provide user-facing interface for swarm operations and validate the complete swarm infrastructure works.
Output: `/swarm` skill command that can init, status, spawn, and shutdown swarms.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-swarm-intelligence/05-CONTEXT.md
@.planning/phases/05-swarm-intelligence/05-01-SUMMARY.md

# Skill format reference:
@~/.claude/skills/github-workflow/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /swarm skill command</name>
  <files>~/.claude/skills/swarm/SKILL.md</files>
  <action>
    Create `~/.claude/skills/swarm/SKILL.md` following the established skill format.

    **Skill structure:**
    ```yaml
    ---
    name: swarm
    description: Swarm intelligence for parallel task execution. Initialize hive-mind, spawn workers, and coordinate multi-agent work.
    ---
    ```

    **Commands to support:**

    1. `/swarm init [topology]`
       - Initialize swarm with specified topology (default: hierarchical-mesh)
       - Options: hierarchical-mesh, mesh, star, ring
       - Output: "Swarm initialized with {topology} topology"

    2. `/swarm status`
       - Show current swarm status
       - Output: Workers active, tasks pending, hive health

    3. `/swarm spawn [count]`
       - Spawn workers into the swarm (default: 3)
       - Output: "Spawned {count} workers"

    4. `/swarm task "description"`
       - Submit task to swarm for parallel execution
       - Output: Task ID and status

    5. `/swarm shutdown`
       - Gracefully shutdown the swarm
       - Output: "Swarm shutdown complete"

    **Implementation approach:**
    - Skill calls `python3 /media/sam/1TB/claude-hooks-shared/hooks/swarm/hive_manager.py --action {action} [args]`
    - Parse output and format for user
    - KISS: Minimal output, just confirmation + any relevant IDs

    **AVOID:**
    - Complex configuration options (use sensible defaults)
    - Verbose output (user vision: "minimal feedback, KISS")
    - Multiple sub-commands per invocation (one action at a time)
  </action>
  <verify>
    - File exists at ~/.claude/skills/swarm/SKILL.md
    - YAML frontmatter is valid
    - All 5 commands documented
  </verify>
  <done>
    - /swarm skill created with init, status, spawn, task, shutdown commands
    - Follows skill format from github-workflow/SKILL.md
    - Commands documented with usage examples
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete swarm infrastructure: hive_manager.py hook + /swarm skill command</what-built>
  <how-to-verify>
    1. **Test hive_manager directly:**
       ```bash
       cd /media/sam/1TB/claude-hooks-shared
       python3 hooks/swarm/hive_manager.py --action status
       ```
       Expected: JSON output (may show no active hive)

    2. **Test swarm init:**
       ```bash
       python3 hooks/swarm/hive_manager.py --action init --topology hierarchical-mesh
       ```
       Expected: Success message or hive_id

    3. **Check logs:**
       ```bash
       cat /tmp/claude-metrics/swarm.log
       ```
       Expected: Log entries for actions performed

    4. **Test /swarm skill (in new Claude session):**
       - Run `/swarm status` in Claude Code
       - Verify it outputs swarm status

    5. **Verify ROADMAP criteria:**
       - [ ] hive_manager.py can init/spawn/status swarm
       - [ ] /swarm command works
       - [ ] Swarm appears in claude-flow hive-mind status
  </how-to-verify>
  <resume-signal>Type "approved" if swarm works, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] ~/.claude/skills/swarm/SKILL.md exists with valid structure
- [ ] /swarm skill is recognized by Claude Code
- [ ] End-to-end test: init -> status -> shutdown works
- [ ] Human verified swarm functionality
</verification>

<success_criteria>

- All tasks completed
- User approved swarm functionality in checkpoint
- ROADMAP verification criteria can be checked off
</success_criteria>

<output>
After completion, create `.planning/phases/05-swarm-intelligence/05-02-SUMMARY.md`
</output>
